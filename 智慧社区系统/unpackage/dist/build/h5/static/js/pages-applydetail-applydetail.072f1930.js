(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-applydetail-applydetail"],{5332:function(e,t,i){"use strict";i.r(t);var a=i("b09d"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=s.a},"58f7":function(e,t,i){"use strict";var a=i("f23e"),s=i.n(a);s.a},"84a6":function(e,t,i){"use strict";i.r(t);var a=i("9460"),s=i("5332");for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);i("58f7");var r,o=i("f0c5"),c=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"6f16fbe6",null,!1,a["a"],r);t["default"]=c.exports},"84e3":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".submitbut[data-v-6f16fbe6]{padding:15px}.bottomcontet[data-v-6f16fbe6]{width:100%;text-align:center;font-size:.8em;color:#000;font-weight:700;margin-bottom:10%}",""]),e.exports=t},9460:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={homecom:i("7bd3").default},s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"mainext"},[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[i("template",{attrs:{slot:"content"},slot:"content"},[e._v("信息录入")])],2),e.loadModal?i("v-uni-view",{staticClass:"cu-load load-modal"},[i("v-uni-view",{staticClass:"gray-text"},[e._v("上传中...")]),i("v-uni-view",{staticClass:"gray-text",staticStyle:{"font-size":"0.8em"}},[e._v("当前进度："+e._s(e.gresslenjkm))])],1):e._e(),i("homecom",{staticClass:"homclass"}),i("v-uni-view",{staticClass:"formcontent"},[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"requireclass"},[e._v("*")]),e._v("姓名")],1),i("v-uni-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"requireclass"},[e._v("*")]),e._v("手机号")],1),i("v-uni-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"requireclass"},[e._v("*")]),e._v("单位")],1),i("v-uni-input",{attrs:{placeholder:"请输入单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white margin-top",staticStyle:{"border-top":"0.5px solid #eee"}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"requireclass"},[e._v("*")]),e._v("健康码截图")],1),i("v-uni-view",{staticClass:"action"},[e._v(e._s(e.imgListjkm.length)+"/1")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"grid col-4 grid-square flex-sub"},[e._l(e.imgListjkm,(function(t,a){return i("v-uni-view",{key:a,staticClass:"bg-img",attrs:{"data-url":e.imgListjkm[a]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ViewImagejkm.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:e.imgListjkm[a],mode:"aspectFill"}}),i("v-uni-view",{staticClass:"cu-tag bg-red",attrs:{"data-index":a},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.DelImgjkm.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close"})],1)],1)})),e.imgListjkm.length<1?i("v-uni-view",{staticClass:"solids",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ChooseImagejkm.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-cameraadd"})],1):e._e()],2)],1),i("v-uni-view",{staticClass:"cu-bar bg-white margin-top",staticStyle:{"border-top":"0.5px solid #eee"}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"requireclass"},[e._v("*")]),e._v("行程码截图")],1),i("v-uni-view",{staticClass:"action"},[e._v(e._s(e.imgListxck.length)+"/1")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"grid col-4 grid-square flex-sub"},[e._l(e.imgListxck,(function(t,a){return i("v-uni-view",{key:a,staticClass:"bg-img",attrs:{"data-url":e.imgListxck[a]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ViewImagexck.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:e.imgListxck[a],mode:"aspectFill"}}),i("v-uni-view",{staticClass:"cu-tag bg-red",attrs:{"data-index":a},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.DelImgxck.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close"})],1)],1)})),e.imgListxck.length<1?i("v-uni-view",{staticClass:"solids",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ChooseImagexck.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-cameraadd"})],1):e._e()],2)],1),i("v-uni-view",{staticClass:"cu-bar bg-white margin-top",staticStyle:{"border-top":"0.5px solid #eee"}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"requireclass"},[e._v("*")]),e._v("本人照片")],1),i("v-uni-view",{staticClass:"action"},[e._v(e._s(e.imgListuser.length)+"/1")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"grid col-4 grid-square flex-sub"},[e._l(e.imgListuser,(function(t,a){return i("v-uni-view",{key:a,staticClass:"bg-img",attrs:{"data-url":e.imgListuser[a]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ViewImageuser.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:e.imgListuser[a],mode:"aspectFill"}}),i("v-uni-view",{staticClass:"cu-tag bg-red",attrs:{"data-index":a},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.DelImguser.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close"})],1)],1)})),e.imgListuser.length<1?i("v-uni-view",{staticClass:"solids",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ChooseImageuser.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-cameraadd"})],1):e._e()],2)],1),i("v-uni-view",{staticClass:"cu-form-group",staticStyle:{"justify-content":"start"}},[i("v-uni-view",{staticClass:"title"},[e._v("审批状态")]),i("v-uni-view",{staticClass:"cu-tag line-blue"},[e._v(e._s(e.status))])],1)],1),i("v-uni-view",{staticClass:"margin-top submitbut"},[i("v-uni-button",{staticClass:"cu-btn block bg-blue margin-tb-sm lg",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1),i("v-uni-view",{staticClass:"bottomcontet"},[e._v("提示：上传照片用于海培门禁系统人员识别")]),i("br")],1)},n=[]},b09d:function(e,t,i){"use strict";var a=i("4ea4");i("4160"),i("a434"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var s=a(i("1da1")),n=(i("dad4"),a(i("dee2"))),r=a(i("7bd3")),o=n.default.httpUrl,c={onLoad:function(e){this.id=e.id,this.initform()},mounted:function(){this.init()},components:{homecom:r.default},data:function(){return{id:"",form:{name:"",mobile:"",unit:""},indexitem:-1,pickeritem:[],pickeritemArr:[],indexgroup:-1,pickergroup:[],pickergroupArr:[],indexuser:-1,pickeruser:["唐春","杨舟"],imgListjkm:[],imgListxck:[],imgListuser:[],flagfk:!0,status:"",objform:{},gresslenjkm:"0%",loadModal:!1}},methods:{initform:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new e.Request(e.Urls.m().getHpProjectDetail+"?id="+e.id).modeget();case 2:i=t.sent,console.log(i.data),a=i.data,e.objform=a,e.form.name=a.trueName,e.form.mobile=a.mobile,e.form.unit=a.organization,e.imgListjkm[0]=a.healthyCodeUrl,e.imgListxck[0]=a.tripCodeUrl,e.imgListuser[0]=a.avatarUrl,e.status=a.statusText;case 13:case"end":return t.stop()}}),t)})))()},init:function(){this.getEnumsfun()},getEnumsfun:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){var i,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new e.Request(e.Urls.m().getEnums).modeget();case 2:i=t.sent,a=i.data.projectTypeEnum.option,e.pickeritemArr=a,s=[],a.forEach((function(e,t){s.push(e.label)})),e.pickeritem=s;case 8:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){var i,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="",e.transval(e.pickeritemArr,"label",e.pickeritem[e.indexitem],"value"),e.transval(e.pickergroupArr,"projectName",e.pickergroup[e.indexgroup],"projectId"),a={approvalStaffId:i,avatarUrl:e.imgListuser[0],healthyCodeUrl:e.imgListjkm[0],mobile:e.form.mobile,organization:e.form.unit,projectId:e.objform.projectId,projectType:e.objform.projectType,tripCodeUrl:e.imgListxck[0],trueName:e.form.name,id:e.id},t.next=6,new e.Request(e.Urls.m().hpProjectApplyUpdate,a).modepost();case 6:s=t.sent,"0"==s.code&&uni.navigateTo({url:"../msgsuccess/msgsuccess"});case 8:case"end":return t.stop()}}),t)})))()},PickerChangeitem:function(e){var t=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var a,s,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.indexitem=e.detail.value,console.log(t.pickeritem[t.indexitem]),"访客"==t.pickeritem[t.indexitem]?t.flagfk=!0:t.flagfk=!1,a=t.transval(t.pickeritemArr,"label",t.pickeritem[t.indexitem],"value"),i.next=6,new t.Request(t.Urls.m().getHpProjects+"?projectType="+a).modeget();case 6:s=i.sent,console.log(s.data),t.pickergroupArr=s.data,n=[],t.pickergroupArr.forEach((function(e,t){n.push(e.projectName)})),t.pickergroup=n;case 12:case"end":return i.stop()}}),i)})))()},PickerChangegroup:function(e){this.indexgroup=e.detail.value},PickerChangeuser:function(e){this.indexuser=e.detail.value},ChooseImagejkm:function(){var e=this,t=this;uni.chooseImage({count:4,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){t.gresslenjkm="0%",e.loadModal=!0,console.log(i.tempFilePaths);var a=uni.uploadFile({url:"".concat(o,"/hp-entrance/minio/file/upload"),filePath:i.tempFilePaths[0],name:"file",header:{Authorization:uni.getStorageSync("accessLink")},formData:{user:"test"},success:function(i){t.loadModal=!1,e.imgListjkm=[JSON.parse(i.data).data]}});a.onProgressUpdate((function(e){t.gresslenjkm=e.progress+"%"}))}})},ViewImagejkm:function(e){uni.previewImage({urls:this.imgListjkm,current:e.currentTarget.dataset.url})},DelImgjkm:function(e){var t=this;uni.showModal({content:"确定要删除吗？",cancelText:"取消",confirmText:"确定",success:function(i){i.confirm&&t.imgListjkm.splice(e.currentTarget.dataset.index,1)}})},ChooseImagexck:function(){var e=this,t=this;uni.chooseImage({count:4,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){t.gresslenjkm="0%",e.loadModal=!0;var a=uni.uploadFile({url:"".concat(o,"/hp-entrance/minio/file/upload"),filePath:i.tempFilePaths[0],name:"file",header:{Authorization:uni.getStorageSync("accessLink")},formData:{user:"test"},success:function(i){t.loadModal=!1,e.imgListxck=[JSON.parse(i.data).data]}});a.onProgressUpdate((function(e){t.gresslenjkm=e.progress+"%"}))}})},ViewImagexck:function(e){uni.previewImage({urls:this.imgListxck,current:e.currentTarget.dataset.url})},DelImgxck:function(e){var t=this;uni.showModal({content:"确定要删除吗？",cancelText:"取消",confirmText:"确定",success:function(i){i.confirm&&t.imgListxck.splice(e.currentTarget.dataset.index,1)}})},ChooseImageuser:function(){var e=this,t=this;uni.chooseImage({count:4,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){t.gresslenjkm="0%",e.loadModal=!0;var a=uni.uploadFile({url:"".concat(o,"/hp-entrance/minio/file/upload"),filePath:i.tempFilePaths[0],name:"file",header:{Authorization:uni.getStorageSync("accessLink")},formData:{user:"test"},success:function(i){t.loadModal=!1,e.imgListuser=[JSON.parse(i.data).data]}});a.onProgressUpdate((function(e){t.gresslenjkm=e.progress+"%"}))}})},ViewImageuser:function(e){uni.previewImage({urls:this.imgListuser,current:e.currentTarget.dataset.url})},DelImguser:function(e){var t=this;uni.showModal({content:"确定要删除吗？",cancelText:"取消",confirmText:"确定",success:function(i){i.confirm&&t.imgListuser.splice(e.currentTarget.dataset.index,1)}})},transval:function(e,t,i,a){for(var s=0;s<e.length;s++){var n=e[s];if(n[t]==i)return n[a]}}}};t.default=c},f23e:function(e,t,i){var a=i("84e3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("51e7cc78",a,!0,{sourceMap:!1,shadowMode:!1})}}]);